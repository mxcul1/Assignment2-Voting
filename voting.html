<!DOCTYPE html>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/3.7.5/firebase.js"></script>

<html lang="en">
  <head>
	<title>Voting</title>
  </head>
  <header class=mdl-layout__header>
		<div class="mdl-layout__header-row">
		  <span class="mdl-layout-title">Voting system</span>
		</div>
	</header>
	<main class="mdl-layout__content">
	<body>
		<p style="color: black; font-size: 20px">
		Vote for a candidate.
		</p>
		<div class="demo-ribbon"></div>
		<main class="demo-main mdl-layout__content">
        <div class="demo-container mdl-grid">
          <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
          <div class="demo-content mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col">
		  <div style="width:1920px; margin:0 auto;"></div>
            <div class="demo-crumbs mdl-color-text--grey-500">
              Logged in &gt; Voting
            </div>

            <h3>Please choose someone to vote for, before logging out!</h3>
              <p>
			  <p id="jacobID" style="color: black; font-size: 20px;"></p>
			  <!--a >  </a-->
			  <p id="jamesID" style="color: black; font-size: 20px;">James</p>
			  <p id="jesseID" style="color: black; font-size: 20px;">Jesse</p>
              
            <!--h3>What to do next?</h3>
              
              <p>
			  <p style="color: black; font-size: 20px;">
				<a href="/"> Click here to return to logout. </a>
              </p-->
              
          </div>
        </div>
		
		
		
	</body>
	<script>
    // Initialize Firebase
	var config = {
			apiKey: "AIzaSyDOXaSH_7_NEvrtUMZg6-L3eJXVIS2jOAI",
			authDomain: "project1-1d4a2.firebaseapp.com",
			databaseURL: "https://project1-1d4a2.firebaseio.com",
			storageBucket: "gs://project1-1d4a2.appspot.com"
		  };
	firebase.initializeApp(config);
		
	// Get a reference to the database service
	var db = firebase.database();
	var alldata = db.ref("serverData");
	var vcaVAl = db.ref("serverData").child("variables").child("VCA");
	var ccaVAl = db.ref("serverData").child("variables").child("CCA");	
	var jacobVAl = db.ref("serverData").child("variables").child("Jacob");
	var jamesVAl = db.ref("serverData").child("variables").child("James");
	var jesseVAl = db.ref("serverData").child("variables").child("Jesse");
	alldata.on("value", function(snapshot) {
		data = snapshot.val();
		jacob = data.variables.Jacob
		james = data.variables.James
		jesse = data.variables.Jesse
		total = james + jacob + jesse
		if (total == 0) {
			total = 1
			}
		document.getElementById("jacobID").innerHTML = "Jacob 	" + (jacob/total)*100 + "%"
		document.getElementById("jamesID").innerHTML = "James	" + (james/total)*100 + "%"
		document.getElementById("jesseID").innerHTML = "Jesse	" + (jesse/total)*100 + "%"

		console.log("Values have been shown.")
	});


	
	</script>
</html>